<html>
<head>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
  <script type="text/javascript" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/FileSaver.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
  <div id="banner-message">
  <h3>RTRA program generator (Note: This is not an offical Statistics Canada site but a third-party user interface)</h3>
  <div id="instructions">
  Before preparing RTRA program
  <ul>
    <li>
      Step 1: For the statistic you are interested in, identify the data source or survey. You can get the "same" statistic from different sources. For example, you can get % employed from the Census, APS and LFS.
    </li>
    <li>
      Step 2: Get the data dictionary (also called code book). You can request it from Mohan Kumar (mohan.kumar@canada.ca) or Henry Robertson (henry.robertson@canada.ca) or download it using FileZilla using the instructions provided at the <a href="https://www.statcan.gc.ca/eng/rtra/ftp" target="_blank">RTRA FTP instructions page</a>
    </li>
    <li>
      Step 3: Familiarize yourself with the data dictionary. This can be daunting since there are thousands of variables. But, you can start by finding variables of interest by searching the PDF or Word document (Ctrl + F).
    </li>
    <li>
      Step 4: Get the document “rtrap.dox” (RTRA Parameters) from <a href="https://www.statcan.gc.ca/eng/rtra/rtrap" target="_blank">the RTRA parameters page</a>
    </li>
    <li>
      Step 5: In the document RTRA Parameters, find the data source or survey. For example, if you are interested in the 2012 Aboriginal Peoples Survey (APS), go to “APS 2012.” Here, get the:
      <ol>
        <li>
          “Dataset Name”
        </li>
        <li>
          “Weight Variable Name”
        </li>
      </ol>
    </li>
  </ul>
  <small>
    Note the deleted variables. These are variables you will see in the data dictionary but wouldn’t be able to use them.
    IMPORTANT TIP: COPY AND PASTE WHERE YOU CAN. Small errors including extra unnecessary spaces can stop your program from running.
  </small>
</div>
<div class="initialInputs">
  <label for="datasetName">Enter data set name (from RTRA parameters document): </label><input type="text" id="datasetName" placeholder="Data set name"/>
</div>
<div class="initialInputs">
  <label for="weightVariable">Enter weight variable name (from RTRA parameters document): </label><input type="text" id="weightVariable" placeholder="Weight variable name"/>
</div>


  <div id="scriptContainer"></div>

  <button type="button" class="addScript">Add another program (maximum 10)</button>

  <div>
    <div><label for="requestName">Provide a Request Name (something that is meaningful to you e.g. date. Limited to 8 characters and NO SPACES or SPECIAL CHARACTERS. USE A DIFFERENT NAME EACH TIME YOU TRY)</label><input type="text" id="requestName" placeholder="Request Name"></div>
    <button class="generate">Generate RTRA program</button>
    <small>Click on this and a file will be downloaded that you can submit to RTRA in the <a href="https://www75.statcan.gc.ca/eft-tef" target="_blank">EFT site</a></small>
  </div>
  <div>
    <textarea id="output"></textarea>
  </div>
</div>

<script type="text/javascript" src="app.js"></script>

</body>
</html>
